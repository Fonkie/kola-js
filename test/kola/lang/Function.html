<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<script type="text/javascript" src="../../../src/kola/Packager.js"></script>
	<script type="text/javascript" src="../../testsuit/testSuit.js"></script>
</head>
<body>
	<script>
		kola("kola.lang.Function",function(KolaFunction){
			var scope = {name:"fb"};
			var scopeFunction = function () {
				return this.name;
			}
			var dataFunction = function (data){
				return data.name;
			}
			var bindedFunctionScope = KolaFunction.bind(scopeFunction, scope);
			var bindedFunctionData = KolaFunction.bind(dataFunction, undefined, scope);
			var valueFunction = KolaFunction.value("fb");
			test("scope",function(testCase){
				testCase(bindedFunctionScope() == "fb", "绑定到object");
			});
			test("data",function(testCase){
				testCase(bindedFunctionData() == "fb", "push data");
			});
			test("value",function(testCase){
				testCase(valueFunction() == "fb", "value");
			});
			test("overload",function(testCase){
				var overloaded = KolaFunction.overload(
					function(a){
						return 1;
					},
					function(a, b){
						return 2;
					}
				);
				testCase(overloaded(1) == 1, "简单重载");
				testCase(overloaded(1, 1) == 2, "简单重载");
				var overloaded = KolaFunction.overload(
					"String,Any",
					function(a, b){
						return 1;
					},
					"Number,Number",
					function(a, b){
						return 2;
					},
					function(a, b){
						return 2.5;
					},
					function(a, b, c){
						return 3;
					}
				);
				testCase(overloaded("1",function(){}) == 1, "描述性重载");
				testCase(overloaded(1, 1) == 2, "描述性重载");
				testCase(overloaded(1, 1, 1) == 3, "描述性重载");
			});
		});
	</script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>kola\html\Display.js - kola</title>
    <link rel="stylesheet" href="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;3.5.1&#x2F;build&#x2F;cssgrids&#x2F;cssgrids-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="..&#x2F;assets/favicon.png">
    <script src="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;combo?3.5.1&#x2F;build&#x2F;yui&#x2F;yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="..&#x2F;assets/css/logo.png" title="kola"></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 2.0.0</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="..&#x2F;classes/Array.html">Array</a></li>
            
                <li><a href="..&#x2F;classes/Class.html">Class</a></li>
            
                <li><a href="..&#x2F;classes/Function.html">Function</a></li>
            
                <li><a href="..&#x2F;classes/Package.html">Package</a></li>
            
                <li><a href="..&#x2F;classes/String.html">String</a></li>
            
                <li><a href="..&#x2F;classes/window.html">window</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="..&#x2F;modules/kola.html">kola</a></li>
            
                <li><a href="..&#x2F;modules/kola.lang.html">kola.lang</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: kola\html\Display.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
kola(&#x27;kola.html.Display&#x27;, 
	[&#x27;kola.html.ElementCore&#x27;],
function(KElement){
    var Display={
        &#x2F;**
		 * 获取第一个对象的位置，相对于其定位对象的位置
		 * @return 位置
		 * @type Object
		 *&#x2F;
		pos: function() {
				var element = this[0];
				return {
					left: element.offsetLeft,
					top: element.offsetTop
				};
		},
		
		&#x2F;**
		 * 获取第一个对象的位置，相对于浏览器窗口区域的位置
		 * @return 位置
		 * @type Object
		 *&#x2F;
		&#x2F;**
		 * 设置对象的位置，相对于浏览器窗口区域的位置
		 * @param {Object} position 新位置
		 * @return 当前的Element对象
		 * @type kola.html.Element
		 *&#x2F;
		clientPos: function() {
            var pos = pagePos(this[0]),
                db = document.body,
                de = document.documentElement;
            return {
                left: pos.left - Math.max(db.scrollLeft, de.scrollLeft),
                top: pos.top - Math.max(db.scrollTop, de.scrollTop)
            };
		},
		
		&#x2F;**
		 * 获取第一个对象在页面上的绝对位置
		 * @return 位置
		 * @type Object
		 *&#x2F;
		&#x2F;**
		 * 设置对象的绝对位置
		 * @param {Object} position 新位置
		 * @return 当前的Element对象
		 * @type kola.html.Element
		 *&#x2F;
		pagePos: function(position) {
			if (typeof(position) == &#x27;undefined&#x27;) {
				&#x2F;&#x2F;	获取对象的绝对位置
				
				return pagePos(this[0]);
			} else {
				&#x2F;&#x2F;	设置对象的绝对位置
				
				&#x2F;&#x2F;	FIXME: 这里应该是设置绝对位置，而不是现在的left和top值
				this._each( function(element) {
					var pos = pagePos( element );
					&#x2F;&#x2F;	如果设置了left值，那就计算left坐标
					if ( typeof position.left == &#x27;number&#x27; ) {
						var left = KElement.util.getComputedStyle( element, &#x27;left&#x27; );
						if ( !left ) {
							left = 0;
						} else {
							if ( typeof( left = parseFloat( left ) ) != &#x27;number&#x27; ) {
								left = 0;
							}
						}
						element.style.left = ( position.left + left - pos.left) + &#x27;px&#x27;;
					}
					&#x2F;&#x2F;	如果设置了top值，那就计算top坐标
					if ( typeof position.top == &#x27;number&#x27; ) {
						var top = KElement.util.getComputedStyle( element, &#x27;top&#x27; );
						if ( !top ) {
							top = 0;
						} else {
							if ( typeof( top = parseFloat( top ) ) != &#x27;number&#x27; ) {
								top = 0;
							}
						}
						element.style.top = ( position.top + top - pos.top) + &#x27;px&#x27;;
					}
				});
				return this;
			}
		},
		
		&#x2F;**
		 * 获取第一个对象的宽度
		 * @return 宽度
		 * @type Number
		 *&#x2F;
		&#x2F;**
		 * 设置对象的宽度
		 * @param {Number} value 新宽度
		 * @return 当前的Element对象
		 * @type kola.html.Element
		 *&#x2F;
		width: function(value) {
			if (typeof(value) == &#x27;undefined&#x27;) {
				&#x2F;&#x2F;	获取宽度
				return this[0].offsetWidth;
			} else {
				&#x2F;&#x2F;	设置宽度
				
				this._each( function(element) {
					element.style.width = value + &#x27;px&#x27;;
				});
				return this;
			}
		},
		outerWidth:function(){
            return this[0].offsetWidth+
                    parseInt(this.style(&quot;padding-left&quot;)||&quot;0&quot;)+
                    parseInt(this.style(&quot;padding-right&quot;)||&quot;0&quot;)+
                    parseInt(this.style(&quot;border-left&quot;)||&quot;0&quot;)+
                    parseInt(this.style(&quot;border-right&quot;)||&quot;0&quot;)+
                    parseInt(this.style(&quot;margin-left&quot;)||&quot;0&quot;)+
                    parseInt(this.style(&quot;margin-right&quot;)||&quot;0&quot;);
        },
		&#x2F;**
		 * 获取第一个对象的高度
		 * @return 高度
		 * @type Number
		 *&#x2F;
		&#x2F;**
		 * 设置对象的高度
		 * @param {Number} value 新高度
		 * @return 当前的Element对象
		 * @type kola.html.Element
		 *&#x2F;
		height: function(value) {
			if (typeof(value) == &#x27;undefined&#x27;) {
				&#x2F;&#x2F;	获取宽度
				
				return this[0].offsetHeight;
			} else {
				&#x2F;&#x2F;	设置宽度
				
				this._each( function(element) {
					element.style.height = value + &#x27;px&#x27;;
				});
				return this;
			}
		},
		outerHeight:function(){
            return this[0].offsetHeight+
                    parseInt(this.style(&quot;padding-top&quot;)||&quot;0&quot;)+
                    parseInt(this.style(&quot;padding-down&quot;)||&quot;0&quot;)+
                    parseInt(this.style(&quot;border-top&quot;)||&quot;0&quot;)+
                    parseInt(this.style(&quot;border-down&quot;)||&quot;0&quot;)+
                    parseInt(this.style(&quot;margin-top&quot;)||&quot;0&quot;)+
                    parseInt(this.style(&quot;margin-down&quot;)||&quot;0&quot;);
        },
		&#x2F;**
		 * 获取第一个对象客户区域的宽度
		 * @return 宽度
		 * @type Number
		 *&#x2F;
		clientWidth: function(value) {
			&#x2F;&#x2F;	获取宽度
			return this[0].clientWidth;
		},

		&#x2F;**
		 * 获取第一个对象客户区域的高度
		 * @return 高度
		 * @type Number
		 *&#x2F;
		clientHeight: function() {
			&#x2F;&#x2F;	获取宽度
			return this[0].clientHeight;
		},

		&#x2F;**
		 * 获取第一个对象滚动区域的宽度
		 * @return 宽度
		 * @type Number
		 *&#x2F;
		scrollWidth: function(value) {
			&#x2F;&#x2F;	获取宽度
			return this[0].scrollWidth;
		},

		&#x2F;**
		 * 获取第一个对象滚动区域的高度
		 * @return 高度
		 * @type Number
		 *&#x2F;
		scrollHeight: function() {
			&#x2F;&#x2F;	获取宽度
			return this[0].scrollHeight;
		},
		
		&#x2F;**
		 * 获取在页面中的绝对位置和大小信息
		 *&#x2F;
		bound: function() {
			var element = this[0],
				box = {};
			if (element.getBoundingClientRect) {
				boxRect = element.getBoundingClientRect();
				box.left = boxRect.left;
				box.top = boxRect.top;
				box.width = boxRect.width;
				box.height = boxRect.height;
				box.right = boxRect.right;
				box.bottom = boxRect.bottom;
			} else {
				box = this.pagePos();
				box.width = this.width();
				box.height = this.height();
				box.right = box.left + box.width;
				box.bottom = box.top + box.height;
			}
			return box;
		}
    };
    var pagePos = function(element) {
		var left = 0,
			top = 0,
			doc = document,
			de = doc.documentElement,
			db = doc.body,
			add = function(l, t) {
				left += l || 0;
				top += t || 0;
			};
		
		if (element.getBoundingClientRect) {
			&#x2F;&#x2F;	存在方法直接获取位置，那就直接获取之
			
			var box = element.getBoundingClientRect();
			add(box.left + Math.max(de.scrollLeft, db.scrollLeft) - de.clientLeft,
					box.top + Math.max(de.scrollTop, db.scrollTop) - de.clientTop);
		} else {
			&#x2F;&#x2F;	只能进行位置累加获取
			
			var op = element.offsetParent,
				parent = element.parentNode;
				
			add(element.offsetLeft, element.offsetTop);
			
			&#x2F;&#x2F;	逐个累加每个offsetParent的位置
			while (op) {
				add(op.offsetLeft, op.offsetTop);
				op = op.offsetParent;
			}

			&#x2F;&#x2F;	循环所有parentNode
			while (parent &amp;&amp; parent.tagName &amp;&amp; !isBody.test(parent.tagName) ) {
				add(-parent.scrollLeft, -parent.scrollTop);
				parent = parent.parentNode;
			}
		}
		return {left: left, top: top, x: left, y: top};
	};
    return Display;
});
    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="..&#x2F;assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="..&#x2F;assets/js/yui-prettify.js"></script>
<script src="..&#x2F;assets/../api.js"></script>
<script src="..&#x2F;assets/js/api-filter.js"></script>
<script src="..&#x2F;assets/js/api-list.js"></script>
<script src="..&#x2F;assets/js/api-search.js"></script>
<script src="..&#x2F;assets/js/apidocs.js"></script>
</body>
</html>
